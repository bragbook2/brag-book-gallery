@charset "UTF-8";

// -----------------------------------------------------------------------------
// components / loading / index
// -----------------------------------------------------------------------------

.brag-book-gallery-loading {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	padding: 48px;
	font-size: var(--wp--custom--brag-book-gallery--spacer--lg);
	color: var(--wp--custom--brag-book-gallery--color--grey);
	min-height: 300px;
	width: 100%;
	background-color: rgba(255, 255, 255, 0.95);
	backdrop-filter: blur(5px);
	position: relative;
	z-index: 1000;

	&::before {
		content: '';
		display: block;
		width: 40px;
		height: 40px;
		margin-bottom: var(--wp--custom--brag-book-gallery--spacer--md);
		border: 4px solid var(--wp--custom--brag-book-gallery--color--light-grey);
		border-top-color: var(--wp--custom--brag-book-gallery--color--primary, #007cba);
		border-radius: 50%;
		animation: spin 1s linear infinite;
	}

	// Full-screen loading overlay variant
	&.brag-book-gallery-loading--fullscreen {
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background-color: rgba(255, 255, 255, 0.9);
		z-index: 9999;
	}

	// Content area loading variant
	&.brag-book-gallery-loading--content {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		min-height: 400px;
	}
}

.brag-book-load-more-container {
	text-align: center;
	margin: var(--wp--custom--brag-book-gallery--spacer--2xl) 0;
	padding: var(--wp--custom--brag-book-gallery--spacer--lg) 0
}

// Skeleton loading animation
.brag-book-gallery-loading-skeleton {
	width: 100%;
	max-width: 600px;
	margin-bottom: var(--wp--custom--brag-book-gallery--spacer--lg);
	
	.skeleton-header {
		height: 32px;
		background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
		background-size: 200% 100%;
		animation: skeleton-shimmer 1.5s infinite;
		border-radius: 4px;
		margin-bottom: var(--wp--custom--brag-book-gallery--spacer--md);
	}
	
	.skeleton-image {
		height: 200px;
		background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
		background-size: 200% 100%;
		animation: skeleton-shimmer 1.5s infinite;
		border-radius: 8px;
		margin-bottom: var(--wp--custom--brag-book-gallery--spacer--md);
	}
	
	.skeleton-details {
		.skeleton-line {
			height: 16px;
			background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
			background-size: 200% 100%;
			animation: skeleton-shimmer 1.5s infinite;
			border-radius: 4px;
			margin-bottom: var(--wp--custom--brag-book-gallery--spacer--sm);
			
			&.short {
				width: 60%;
			}
		}
	}
}

.loading-text {
	font-size: var(--wp--custom--brag-book-gallery--spacer--md);
	color: var(--wp--custom--brag-book-gallery--color--grey);
	margin-top: var(--wp--custom--brag-book-gallery--spacer--md);
}

@keyframes spin {
	to {
		transform: rotate(360deg)
	}
}

// Case detail skeleton loading - matches exact case detail view structure
.brag-book-gallery-case-detail-skeleton {
	// Full width skeleton inherits styling from case-detail-view
	width: 100%;

	// Progress Bar
	.skeleton-progress-bar {
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		height: 3px;
		background: var(--wp--custom--brag-book-gallery--color--lighter-grey);
		z-index: 9999;
		overflow: hidden;

		.skeleton-progress-fill {
			height: 100%;
			width: 0%;
			background: linear-gradient(90deg, #3b82f6, #1d4ed8);
			transition: width 0.2s ease;
		}

		.skeleton-progress-text {
			position: absolute;
			top: 8px;
			left: 50%;
			transform: translateX(-50%);
			font-size: 0.75rem;
			font-weight: 500;
			color: var(--wp--custom--brag-book-gallery--color--grey);
			background: var(--wp--custom--brag-book-gallery--color--white);
			padding: 2px 8px;
			border-radius: 8px;
			box-shadow: 0 1px 3px rgba(0,0,0,0.1);
		}
	}

	// Case Header Section Skeletons
	.skeleton-back-link {
		height: 1.25rem;
		width: 6rem;
		background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
		background-size: 200% 100%;
		animation: skeleton-shimmer 1.5s infinite;
		border-radius: 4px;
		margin-bottom: var(--wp--custom--brag-book-gallery--spacer--lg);
	}

	.skeleton-case-title {
		height: 2rem;
		width: 50%;
		background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
		background-size: 200% 100%;
		animation: skeleton-shimmer 1.5s infinite;
		border-radius: 4px;
		margin-bottom: var(--wp--custom--brag-book-gallery--spacer--sm);
	}

	.skeleton-case-navigation-buttons {
		display: flex;
		gap: var(--wp--custom--brag-book-gallery--spacer--sm);

		.skeleton-nav-btn {
			height: 2.5rem;
			width: 2.5rem;
			background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
			background-size: 200% 100%;
			animation: skeleton-shimmer 1.5s infinite;
			border-radius: 50%;
		}
	}

	// Images Section Skeletons
	.skeleton-main-image {
		width: 100%;
		aspect-ratio: 16 / 10;
		background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
		background-size: 200% 100%;
		animation: skeleton-shimmer 1.5s infinite;
		border-radius: 8px;
		min-height: 300px;

		@media (max-width: 768px) {
			min-height: 200px;
		}
	}

	.skeleton-thumbnail {
		flex: 0 0 auto;
		width: 80px;
		height: 60px;
		background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
		background-size: 200% 100%;
		animation: skeleton-shimmer 1.5s infinite;
		border-radius: 4px;
	}

	// Card Skeletons
	.skeleton-card-title {
		height: 1.25rem;
		width: 70%;
		background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
		background-size: 200% 100%;
		animation: skeleton-shimmer 1.5s infinite;
		border-radius: 4px;
		margin-bottom: var(--wp--custom--brag-book-gallery--spacer--md);
	}

	.skeleton-procedure-badges {
		display: flex;
		gap: var(--wp--custom--brag-book-gallery--spacer--sm);
		flex-wrap: wrap;

		.skeleton-badge {
			height: 1.5rem;
			width: 5rem;
			background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
			background-size: 200% 100%;
			animation: skeleton-shimmer 1.5s infinite;
			border-radius: 12px;
		}
	}

	.skeleton-patient-info,
	.skeleton-procedure-details {
		.skeleton-info-item,
		.skeleton-detail-row {
			height: 1rem;
			background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
			background-size: 200% 100%;
			animation: skeleton-shimmer 1.5s infinite;
			border-radius: 3px;
			margin-bottom: var(--wp--custom--brag-book-gallery--spacer--sm);
			width: 100%;

			&:nth-child(1) { width: 90%; }
			&:nth-child(2) { width: 75%; }
			&:nth-child(3) { width: 85%; }
		}
	}

	.skeleton-case-notes {
		.skeleton-text-line {
			height: 0.875rem;
			background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
			background-size: 200% 100%;
			animation: skeleton-shimmer 1.5s infinite;
			border-radius: 3px;
			margin-bottom: var(--wp--custom--brag-book-gallery--spacer--sm);
			width: 100%;

			&.short { width: 65%; }
			&.medium { width: 80%; }
		}
	}
}

@keyframes skeleton-shimmer {
	0% {
		background-position: -200% 0;
	}
	100% {
		background-position: 200% 0;
	}
}
