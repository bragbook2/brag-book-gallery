!function(){"use strict";var e=wp.plugins,l=wp.editor,a=wp.components,r=wp.data,t=wp.element,o=wp.i18n;(0,e.registerPlugin)("brag-book-gallery-sidebar",{render:()=>{const{editPost:e}=(0,r.useDispatch)("core/editor"),{meta:n,postType:_}=(0,r.useSelect)(e=>{const{getEditedPostAttribute:l}=e("core/editor"),{getCurrentPostType:a}=e("core/editor");return{meta:l("meta")||{},postType:a()}});if("brag_book_cases"!==_)return null;const g=(l,a)=>{e({meta:{...n,[l]:a}})};return wp.element.createElement(React.Fragment,null,wp.element.createElement(l.PluginSidebarMoreMenuItem,{target:"brag-book-gallery-sidebar"},(0,o.__)("BRAGBook Gallery","brag-book-gallery")),wp.element.createElement(l.PluginSidebar,{name:"brag-book-gallery-sidebar",title:(0,o.__)("BRAGBook Gallery","brag-book-gallery"),icon:"camera"},wp.element.createElement(a.Panel,null,wp.element.createElement(()=>wp.element.createElement(a.PanelBody,{title:(0,o.__)("Case Details","brag-book-gallery"),initialOpen:!0},wp.element.createElement(a.BaseControl,{__nextHasNoMarginBottom:!0},wp.element.createElement(a.TextControl,{label:(0,o.__)("Patient Age","brag-book-gallery"),type:"number",min:18,max:100,value:n.brag_book_gallery_patient_age||"",onChange:e=>g("brag_book_gallery_patient_age",e),help:(0,o.__)("Patient age at time of procedure","brag-book-gallery"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),wp.element.createElement(a.BaseControl,{__nextHasNoMarginBottom:!0},wp.element.createElement(a.SelectControl,{label:(0,o.__)("Patient Gender","brag-book-gallery"),value:n.brag_book_gallery_patient_gender||"",onChange:e=>g("brag_book_gallery_patient_gender",e),options:[{label:(0,o.__)("— Select Gender —","brag-book-gallery"),value:""},{label:(0,o.__)("Male","brag-book-gallery"),value:"Male"},{label:(0,o.__)("Female","brag-book-gallery"),value:"Female"},{label:(0,o.__)("Non-binary","brag-book-gallery"),value:"Non-binary"},{label:(0,o.__)("Other","brag-book-gallery"),value:"Other"},{label:(0,o.__)("Prefer not to say","brag-book-gallery"),value:"Prefer not to say"}],help:(0,o.__)("Patient gender identity for demographic filtering","brag-book-gallery"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),wp.element.createElement(a.BaseControl,{__nextHasNoMarginBottom:!0},wp.element.createElement(a.TextControl,{label:(0,o.__)("Procedure Date","brag-book-gallery"),type:"date",value:n.brag_book_gallery_procedure_date||"",onChange:e=>g("brag_book_gallery_procedure_date",e),help:(0,o.__)("Date when the procedure was performed","brag-book-gallery"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),wp.element.createElement(a.BaseControl,{__nextHasNoMarginBottom:!0},wp.element.createElement(a.TextareaControl,{label:(0,o.__)("Case Notes","brag-book-gallery"),value:n.brag_book_gallery_notes||"",onChange:e=>g("brag_book_gallery_notes",e),rows:4,help:(0,o.__)("Additional notes about this case (optional)","brag-book-gallery"),__nextHasNoMarginBottom:!0}))),null),wp.element.createElement(()=>wp.element.createElement(a.PanelBody,{title:(0,o.__)("API Data","brag-book-gallery"),initialOpen:!1},wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.TextControl,{label:(0,o.__)("API Case ID","brag-book-gallery"),type:"number",value:n.brag_book_gallery_api_id||"",onChange:e=>g("brag_book_gallery_api_id",e),help:(0,o.__)("Unique identifier from the BRAGBook API","brag-book-gallery"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.TextControl,{label:(0,o.__)("Patient ID","brag-book-gallery"),value:n.brag_book_gallery_patient_id||"",onChange:e=>g("brag_book_gallery_patient_id",e),help:(0,o.__)("Patient identifier from the API","brag-book-gallery"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.TextControl,{label:(0,o.__)("Organization ID","brag-book-gallery"),value:n.brag_book_gallery_org_id||"",onChange:e=>g("brag_book_gallery_org_id",e),help:(0,o.__)("Organization identifier","brag-book-gallery"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.TextControl,{label:(0,o.__)("Quality Score","brag-book-gallery"),type:"number",min:1,max:10,value:n.brag_book_gallery_quality_score||"",onChange:e=>g("brag_book_gallery_quality_score",e),help:(0,o.__)("Quality rating from 1-10","brag-book-gallery"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}))),null),wp.element.createElement(()=>wp.element.createElement(a.PanelBody,{title:(0,o.__)("Patient Information","brag-book-gallery"),initialOpen:!1},wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.TextControl,{label:(0,o.__)("Ethnicity","brag-book-gallery"),value:n.brag_book_gallery_ethnicity||"",onChange:e=>g("brag_book_gallery_ethnicity",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.TextControl,{label:(0,o.__)("Height","brag-book-gallery"),type:"number",value:n.brag_book_gallery_height||"",onChange:e=>g("brag_book_gallery_height",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.TextControl,{label:(0,o.__)("Height Unit","brag-book-gallery"),value:n.brag_book_gallery_height_unit||"",onChange:e=>g("brag_book_gallery_height_unit",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.TextControl,{label:(0,o.__)("Weight","brag-book-gallery"),type:"number",value:n.brag_book_gallery_weight||"",onChange:e=>g("brag_book_gallery_weight",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.TextControl,{label:(0,o.__)("Weight Unit","brag-book-gallery"),value:n.brag_book_gallery_weight_unit||"",onChange:e=>g("brag_book_gallery_weight_unit",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}))),null),wp.element.createElement(()=>wp.element.createElement(a.PanelBody,{title:(0,o.__)("Settings","brag-book-gallery"),initialOpen:!1},wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.CheckboxControl,{label:(0,o.__)("Revision Surgery","brag-book-gallery"),checked:"1"===n.brag_book_gallery_revision_surgery,onChange:e=>g("brag_book_gallery_revision_surgery",e?"1":"0")})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.CheckboxControl,{label:(0,o.__)("Approved for Social Media","brag-book-gallery"),checked:"1"===n.brag_book_gallery_approved_for_social,onChange:e=>g("brag_book_gallery_approved_for_social",e?"1":"0")})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.CheckboxControl,{label:(0,o.__)("For Tablet Display","brag-book-gallery"),checked:"1"===n.brag_book_gallery_is_for_tablet,onChange:e=>g("brag_book_gallery_is_for_tablet",e?"1":"0")})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.CheckboxControl,{label:(0,o.__)("For Website Display","brag-book-gallery"),checked:"1"===n.brag_book_gallery_is_for_website,onChange:e=>g("brag_book_gallery_is_for_website",e?"1":"0")})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.CheckboxControl,{label:(0,o.__)("Draft","brag-book-gallery"),checked:"1"===n.brag_book_gallery_draft,onChange:e=>g("brag_book_gallery_draft",e?"1":"0")})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.CheckboxControl,{label:(0,o.__)("No Watermark","brag-book-gallery"),checked:"1"===n.brag_book_gallery_no_watermark,onChange:e=>g("brag_book_gallery_no_watermark",e?"1":"0")})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.CheckboxControl,{label:(0,o.__)("Contains Nudity","brag-book-gallery"),checked:"1"===n.brag_book_gallery_is_nude,onChange:e=>g("brag_book_gallery_is_nude",e?"1":"0")}))),null),wp.element.createElement(()=>wp.element.createElement(a.PanelBody,{title:(0,o.__)("SEO & Marketing","brag-book-gallery"),initialOpen:!1},wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.TextControl,{label:(0,o.__)("SEO Suffix URL","brag-book-gallery"),value:n.brag_book_gallery_seo_suffix_url||"",onChange:e=>g("brag_book_gallery_seo_suffix_url",e),help:(0,o.__)("URL suffix for SEO purposes","brag-book-gallery"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.TextControl,{label:(0,o.__)("SEO Headline","brag-book-gallery"),value:n.brag_book_gallery_seo_headline||"",onChange:e=>g("brag_book_gallery_seo_headline",e),help:(0,o.__)("SEO-optimized headline","brag-book-gallery"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.TextControl,{label:(0,o.__)("SEO Page Title","brag-book-gallery"),value:n.brag_book_gallery_seo_page_title||"",onChange:e=>g("brag_book_gallery_seo_page_title",e),help:(0,o.__)("Page title for search engines","brag-book-gallery"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.TextControl,{label:(0,o.__)("SEO Page Description","brag-book-gallery"),value:n.brag_book_gallery_seo_page_description||"",onChange:e=>g("brag_book_gallery_seo_page_description",e),help:(0,o.__)("Meta description for search engines","brag-book-gallery"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})),wp.element.createElement(a.PanelRow,null,wp.element.createElement(a.TextControl,{label:(0,o.__)("SEO Alt Text","brag-book-gallery"),value:n.brag_book_gallery_seo_alt_text||"",onChange:e=>g("brag_book_gallery_seo_alt_text",e),help:(0,o.__)("Alternative text for images","brag-book-gallery"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}))),null),wp.element.createElement(()=>{const e=(0,t.useMemo)(()=>{try{const e=n.brag_book_gallery_image_url_sets||"[]",l=JSON.parse(e),a={before_url:[],after_url1:[],after_url2:[],after_url3:[],post_processed_url:[],high_res_url:[]};return l.forEach(e=>{e.before_url&&a.before_url.push(e.before_url),e.after_url1&&a.after_url1.push(e.after_url1),e.after_url2&&a.after_url2.push(e.after_url2),e.after_url3&&a.after_url3.push(e.after_url3),e.post_processed_url&&a.post_processed_url.push(e.post_processed_url),e.high_res_url&&a.high_res_url.push(e.high_res_url)}),{before_url:a.before_url.join("\n"),after_url1:a.after_url1.join("\n"),after_url2:a.after_url2.join("\n"),after_url3:a.after_url3.join("\n"),post_processed_url:a.post_processed_url.join("\n"),high_res_url:a.high_res_url.join("\n")}}catch(e){return console.error("Error parsing image sets:",e),{before_url:"",after_url1:"",after_url2:"",after_url3:"",post_processed_url:"",high_res_url:""}}},[n.brag_book_gallery_image_url_sets]),l=(l,a)=>{const r={...e};r[l]=a;const t=Math.max(...Object.values(r).map(e=>e.split("\n").filter(e=>e.trim()).length),0),o=[];for(let e=0;e<t;e++){const l={before_url:r.before_url.split("\n")[e]?.trim()||"",after_url1:r.after_url1.split("\n")[e]?.trim()||"",after_url2:r.after_url2.split("\n")[e]?.trim()||"",after_url3:r.after_url3.split("\n")[e]?.trim()||"",post_processed_url:r.post_processed_url.split("\n")[e]?.trim()||"",high_res_url:r.high_res_url.split("\n")[e]?.trim()||""};Object.values(l).some(e=>e.length>0)&&o.push(l)}g("brag_book_gallery_image_url_sets",JSON.stringify(o))};return wp.element.createElement(a.PanelBody,{title:(0,o.__)("Image URLs","brag-book-gallery"),initialOpen:!1},wp.element.createElement(a.TextareaControl,{label:(0,o.__)("Before Image URLs","brag-book-gallery"),help:(0,o.__)("Enter one before image URL per line","brag-book-gallery"),value:e.before_url,onChange:e=>l("before_url",e),rows:4,__nextHasNoMarginBottom:!0}),wp.element.createElement(a.TextareaControl,{label:(0,o.__)("After Image URLs 1","brag-book-gallery"),help:(0,o.__)("Enter one after image URL per line","brag-book-gallery"),value:e.after_url1,onChange:e=>l("after_url1",e),rows:4,__nextHasNoMarginBottom:!0}),wp.element.createElement(a.TextareaControl,{label:(0,o.__)("After Image URLs 2","brag-book-gallery"),help:(0,o.__)("Enter one after image URL per line","brag-book-gallery"),value:e.after_url2,onChange:e=>l("after_url2",e),rows:4,__nextHasNoMarginBottom:!0}),wp.element.createElement(a.TextareaControl,{label:(0,o.__)("After Image URLs 3","brag-book-gallery"),help:(0,o.__)("Enter one after image URL per line","brag-book-gallery"),value:e.after_url3,onChange:e=>l("after_url3",e),rows:4,__nextHasNoMarginBottom:!0}),wp.element.createElement(a.TextareaControl,{label:(0,o.__)("Post-Processed Image URLs","brag-book-gallery"),help:(0,o.__)("Enter one post-processed image URL per line","brag-book-gallery"),value:e.post_processed_url,onChange:e=>l("post_processed_url",e),rows:4,__nextHasNoMarginBottom:!0}),wp.element.createElement(a.TextareaControl,{label:(0,o.__)("High-Res Post-Processed Image URLs","brag-book-gallery"),help:(0,o.__)("Enter one high-res image URL per line","brag-book-gallery"),value:e.high_res_url,onChange:e=>l("high_res_url",e),rows:4,__nextHasNoMarginBottom:!0}))},null))))}})}();